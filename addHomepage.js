var configLocation = document.getElementById("configLocation");

var replaceArray = {
   "%container%": document.getElementsByName("contName")[0].value,
   "%capital_container%": "",
   "%domain%": "domain.com",
   "%domainPattern%": "%container%.%domain%"
};

function titleCase(str) {
  str = str.toLowerCase().split(' ');
  for (var i = 0; i < str.length; i++) {
    str[i] = str[i].charAt(0).toUpperCase() + str[i].slice(1); 
  }
  return str.join(' ');
}

replaceArray["%capital_container%"] = titleCase(replaceArray["%container%"]);
replaceArray["%domainPattern%"] = replaceArray["%domainPattern%"].replace("%container%", replaceArray["%container%"]).replace("%domain%", replaceArray["%domain%"]);
var replaceKeys = Object.keys(replaceArray);

var homepageNodes = {
	"HomepageGroup": "%3Cdiv%20id%3D%22ConfigNum915%22%20class%3D%22config_always%22%20%27%3D%22%22%3E%3Cdiv%20id%3D%22ConfigNum915%22%20class%3D%22config_always%22%20%27%3D%22%22%3E%0A%0A%3Cdl%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confName%5B%5D%22%20value%3D%22Homepage%20Group%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confTarget%5B%5D%22%20value%3D%22homepage.group%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDefault%5B%5D%22%20value%3D%22Unknown%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confMode%5B%5D%22%20value%3D%22%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDescription%5B%5D%22%20value%3D%22How%20the%20icon%20should%20be%20sorted%20on%20the%20homepage.%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confType%5B%5D%22%20value%3D%22Label%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDisplay%5B%5D%22%20value%3D%22always%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confRequired%5B%5D%22%20value%3D%22false%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confMask%5B%5D%22%20value%3D%22false%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cspan%20class%3D%22%22%3EHomepage%20Group%3A%3C%2Fspan%3E%3C%2Fdt%3E%0A%3Cdd%3E%3Cspan%20class%3D%22boxed%22%3E%3Cinput%20type%3D%22text%22%20name%3D%22confValue%5B%5D%22%20default%3D%22%22%20value%3D%22Unknown%22%20autocomplete%3D%22off%22%20spellcheck%3D%22false%22%20%3D%22%22%3D%22%22%3E%3Cbutton%20type%3D%22button%22%20onclick%3D%22editConfigPopup%28915%2Ctrue%29%22%3EEdit%3C%2Fbutton%3E%3Cbutton%20type%3D%22button%22%20onclick%3D%22removeConfig%28915%29%22%3ERemove%3C%2Fbutton%3E%3Cbr%3E%3Cspan%20class%3D%22orange-text%22%3EContainer%20Label%3A%20homepage.group%3C%2Fspan%3E%3Cbr%3E%3Cspan%20class%3D%22orange-text%22%3EHow%20the%20icon%20should%20be%20sorted%20on%20the%20homepage.%3C%2Fspan%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fdd%3E%0A%3C%2Fdl%3E%0A%0A%3C%2Fdiv%3E%3C%2Fdiv%3E",
	"HomepageName": "%3Cdiv%20id%3D%22ConfigNum916%22%20class%3D%22config_always%22%20%27%3D%22%22%3E%3Cdiv%20id%3D%22ConfigNum916%22%20class%3D%22config_always%22%20%27%3D%22%22%3E%0A%0A%3Cdl%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confName%5B%5D%22%20value%3D%22Homepage%20Name%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confTarget%5B%5D%22%20value%3D%22homepage.name%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDefault%5B%5D%22%20value%3D%22%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confMode%5B%5D%22%20value%3D%22%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDescription%5B%5D%22%20value%3D%22The%20name%20of%20the%20service%20being%20shown.%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confType%5B%5D%22%20value%3D%22Label%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDisplay%5B%5D%22%20value%3D%22always%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confRequired%5B%5D%22%20value%3D%22false%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confMask%5B%5D%22%20value%3D%22false%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cspan%20class%3D%22%22%3EHomepage%20Name%3A%3C%2Fspan%3E%3C%2Fdt%3E%0A%3Cdd%3E%3Cspan%20class%3D%22boxed%22%3E%3Cinput%20type%3D%22text%22%20name%3D%22confValue%5B%5D%22%20default%3D%22%22%20value%3D%22%25capital_container%25%22%20autocomplete%3D%22off%22%20spellcheck%3D%22false%22%20%3D%22%22%3D%22%22%3E%3Cbutton%20type%3D%22button%22%20onclick%3D%22editConfigPopup%28916%2Ctrue%29%22%3EEdit%3C%2Fbutton%3E%3Cbutton%20type%3D%22button%22%20onclick%3D%22removeConfig%28916%29%22%3ERemove%3C%2Fbutton%3E%3Cbr%3E%3Cspan%20class%3D%22orange-text%22%3EContainer%20Label%3A%20homepage.name%3C%2Fspan%3E%3Cbr%3E%3Cspan%20class%3D%22orange-text%22%3EThe%20name%20of%20the%20service%20being%20shown.%3C%2Fspan%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fdd%3E%0A%3C%2Fdl%3E%0A%0A%3C%2Fdiv%3E%3C%2Fdiv%3E",
	"HomepageIcon": "%3Cdiv%20id%3D%22ConfigNum917%22%20class%3D%22config_always%22%20%27%3D%22%22%3E%3Cdiv%20id%3D%22ConfigNum917%22%20class%3D%22config_always%22%20%27%3D%22%22%3E%0A%0A%3Cdl%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confName%5B%5D%22%20value%3D%22Homepage%20Icon%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confTarget%5B%5D%22%20value%3D%22homepage.icon%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDefault%5B%5D%22%20value%3D%22%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confMode%5B%5D%22%20value%3D%22%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDescription%5B%5D%22%20value%3D%22The%20icon%20of%20the%20service%20being%20shown.%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confType%5B%5D%22%20value%3D%22Label%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDisplay%5B%5D%22%20value%3D%22always%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confRequired%5B%5D%22%20value%3D%22false%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confMask%5B%5D%22%20value%3D%22false%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cspan%20class%3D%22%22%3EHomepage%20Icon%3A%3C%2Fspan%3E%3C%2Fdt%3E%0A%3Cdd%3E%3Cspan%20class%3D%22boxed%22%3E%3Cinput%20type%3D%22text%22%20name%3D%22confValue%5B%5D%22%20default%3D%22%22%20value%3D%22%25container%25.png%22%20autocomplete%3D%22off%22%20spellcheck%3D%22false%22%20%3D%22%22%3D%22%22%3E%3Cbutton%20type%3D%22button%22%20onclick%3D%22editConfigPopup%28917%2Ctrue%29%22%3EEdit%3C%2Fbutton%3E%3Cbutton%20type%3D%22button%22%20onclick%3D%22removeConfig%28917%29%22%3ERemove%3C%2Fbutton%3E%3Cbr%3E%3Cspan%20class%3D%22orange-text%22%3EContainer%20Label%3A%20homepage.icon%3C%2Fspan%3E%3Cbr%3E%3Cspan%20class%3D%22orange-text%22%3EThe%20icon%20of%20the%20service%20being%20shown.%3C%2Fspan%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fdd%3E%0A%3C%2Fdl%3E%0A%0A%3C%2Fdiv%3E%3C%2Fdiv%3E",
	"HomepageWebUI": "%3Cdiv%20id%3D%22ConfigNum918%22%20class%3D%22config_always%22%20%27%3D%22%22%3E%3Cdiv%20id%3D%22ConfigNum918%22%20class%3D%22config_always%22%20%27%3D%22%22%3E%0A%0A%3Cdl%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confName%5B%5D%22%20value%3D%22Homepage%20Web%20UI%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confTarget%5B%5D%22%20value%3D%22homepage.href%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDefault%5B%5D%22%20value%3D%22%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confMode%5B%5D%22%20value%3D%22%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDescription%5B%5D%22%20value%3D%22The%20Web%20UI%20URL%20of%20the%20service%20being%20shown.%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confType%5B%5D%22%20value%3D%22Label%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDisplay%5B%5D%22%20value%3D%22always%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confRequired%5B%5D%22%20value%3D%22false%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confMask%5B%5D%22%20value%3D%22false%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cspan%20class%3D%22%22%3EHomepage%20Web%20UI%3A%3C%2Fspan%3E%3C%2Fdt%3E%0A%3Cdd%3E%3Cspan%20class%3D%22boxed%22%3E%3Cinput%20type%3D%22text%22%20name%3D%22confValue%5B%5D%22%20default%3D%22%22%20value%3D%22https%3A%2F%2F%25domainPattern%25%22%20autocomplete%3D%22off%22%20spellcheck%3D%22false%22%20%3D%22%22%3D%22%22%3E%3Cbutton%20type%3D%22button%22%20onclick%3D%22editConfigPopup%28918%2Ctrue%29%22%3EEdit%3C%2Fbutton%3E%3Cbutton%20type%3D%22button%22%20onclick%3D%22removeConfig%28918%29%22%3ERemove%3C%2Fbutton%3E%3Cbr%3E%3Cspan%20class%3D%22orange-text%22%3EContainer%20Label%3A%20homepage.href%3C%2Fspan%3E%3Cbr%3E%3Cspan%20class%3D%22orange-text%22%3EThe%20Web%20UI%20URL%20of%20the%20service%20being%20shown.%3C%2Fspan%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fdd%3E%0A%3C%2Fdl%3E%0A%0A%3C%2Fdiv%3E%3C%2Fdiv%3E",
	"HomepageDescription": "%3Cdiv%20id%3D%22ConfigNum919%22%20class%3D%22config_always%22%20%27%3D%22%22%3E%3Cdiv%20id%3D%22ConfigNum919%22%20class%3D%22config_always%22%20%27%3D%22%22%3E%0A%0A%3Cdl%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confName%5B%5D%22%20value%3D%22Homepage%20Description%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confTarget%5B%5D%22%20value%3D%22homepage.description%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDefault%5B%5D%22%20value%3D%22Unknown%20Description%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confMode%5B%5D%22%20value%3D%22%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDescription%5B%5D%22%20value%3D%22The%20description%20of%20the%20services%20offered%20by%20the%20service%20being%20shown.%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confType%5B%5D%22%20value%3D%22Label%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confDisplay%5B%5D%22%20value%3D%22always%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confRequired%5B%5D%22%20value%3D%22false%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cinput%20type%3D%22hidden%22%20name%3D%22confMask%5B%5D%22%20value%3D%22false%22%3E%3C%2Fdt%3E%0A%3Cdt%3E%3Cspan%20class%3D%22%22%3EHomepage%20Description%3A%3C%2Fspan%3E%3C%2Fdt%3E%0A%3Cdd%3E%3Cspan%20class%3D%22boxed%22%3E%3Cinput%20type%3D%22text%22%20name%3D%22confValue%5B%5D%22%20default%3D%22%22%20value%3D%22Unknown%20Description%22%20autocomplete%3D%22off%22%20spellcheck%3D%22false%22%20%3D%22%22%3D%22%22%3E%3Cbutton%20type%3D%22button%22%20onclick%3D%22editConfigPopup%28919%2Ctrue%29%22%3EEdit%3C%2Fbutton%3E%3Cbutton%20type%3D%22button%22%20onclick%3D%22removeConfig%28919%29%22%3ERemove%3C%2Fbutton%3E%3Cbr%3E%3Cspan%20class%3D%22orange-text%22%3EContainer%20Label%3A%20homepage.description%3C%2Fspan%3E%3Cbr%3E%3Cspan%20class%3D%22orange-text%22%3EThe%20description%20of%20the%20services%20offered%20by%20the%20service%20being%20shown.%3C%2Fspan%3E%3Cbr%3E%3C%2Fspan%3E%3C%2Fdd%3E%0A%3C%2Fdl%3E%0A%0A%3C%2Fdiv%3E%3C%2Fdiv%3E",
};

var nodes = Object.keys(homepageNodes);
for (var i = 0, len = nodes.length; i < len; ++i) {
   let z = decodeURIComponent(homepageNodes[nodes[i]])
   console.log(z)
   for (var y = 0, ylen = replaceKeys.length; y < ylen; ++y) {
      z = z.replace(replaceKeys[y], replaceArray[replaceKeys[y]])
   }
   configLocation.insertAdjacentHTML("beforeend", z);
}
